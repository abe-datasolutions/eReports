package com.abedatasolutions.ereports.core.models.patient

import assertk.assertThat
import assertk.assertions.isEqualTo
import assertk.assertions.isSuccess
import kotlinx.serialization.encodeToString
import kotlinx.serialization.json.Json
import org.junit.Test

class PatientInfoTest{

    @Test
    fun testDeserialization(){
        val json = Json {
            encodeDefaults = true
            ignoreUnknownKeys = true
        }
        val jsons = listOf(
            """{"__type":"Support.PatientDto","Acn":"190111005","Address":"TAMAN KEBUN JERUK BLOK M5 NO.47","Age":"84Y","ClientA1":"ABC LABORATORIUM","ClientA2":"GRAHA MAS - KEBON JERUK","ClientA3":"JAKARTA BARAT","ClientId":"DR0140","ClientName":"DR. LUCI LIANA, SPPK","ClientPhone":"","Csz":" ","Demog":"10D09120008","Dob":"11/15/1934","DtmCol":"11/01/2019 06:45","DtmRcv":"11/01/2019 08:42","DtmRpt":"11/01/2019 17:57","MedTech":"","MrNumber":"","Name":"JUNIAR TJANDRA.NY ","Pathologist":"","Phone":"081314144859","Phy":"","PId":"","ReportMsg":"","Sex":"F","Status":"FINAL","TestRecords":[{"Test":"HEMATOLOGI","TestGroups":[{"Group":null,"Records":[{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"11.3","Procedure":"Lekosit (Flow Cytometric)**","ReferenceDetails":null,"ReferenceRange":"5.0 - 10.0","ResultDetails":null,"Unit":"10^3/uL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"3.42","Procedure":"Eritrosit (Direct Current)**","ReferenceDetails":null,"ReferenceRange":"4.2 - 5.4","ResultDetails":null,"Unit":"10^6/uL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"10.6","Procedure":"Hemoglobin (SLS-hemoglobin)**","ReferenceDetails":null,"ReferenceRange":"12.0 - 16.0","ResultDetails":null,"Unit":"g/dL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"33.3","Procedure":"Hematokrit(Pulse Height Dtc)**","ReferenceDetails":null,"ReferenceRange":"37.0 - 47.0","ResultDetails":null,"Unit":"%"}]},{"Group":"Nilai MCV, MCH, MCHC","Records":[{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"97.4","Procedure":"MCV (Calculated)**","ReferenceDetails":null,"ReferenceRange":"80 - 94","ResultDetails":null,"Unit":"FL"},{"InRangeResult":"31.0","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"MCH (Calculated)**","ReferenceDetails":null,"ReferenceRange":"27 - 31","ResultDetails":null,"Unit":"PG"},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"31.8","Procedure":"MCHC (Calculated)**","ReferenceDetails":null,"ReferenceRange":"32 - 36","ResultDetails":null,"Unit":"%"}]},{"Group":"Hitung Jenis Lekosit (Slide)","Records":[{"InRangeResult":"0","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Basophil","ReferenceDetails":null,"ReferenceRange":"0 - 2","ResultDetails":null,"Unit":"%"},{"InRangeResult":"4","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Eosinophil","ReferenceDetails":null,"ReferenceRange":"1 - 8","ResultDetails":null,"Unit":"%"},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"0","Procedure":"N.Batang","ReferenceDetails":null,"ReferenceRange":"2 - 6","ResultDetails":null,"Unit":"%"},{"InRangeResult":"70","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"N.Segment","ReferenceDetails":null,"ReferenceRange":"46 - 75","ResultDetails":null,"Unit":"%"},{"InRangeResult":"21","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Lymphocyte","ReferenceDetails":null,"ReferenceRange":"20 - 45","ResultDetails":null,"Unit":"%"},{"InRangeResult":"5","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Monocyte","ReferenceDetails":null,"ReferenceRange":"4 - 12","ResultDetails":null,"Unit":"%"},{"InRangeResult":".","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Lain - lain","ReferenceDetails":null,"ReferenceRange":"","ResultDetails":null,"Unit":""},{"InRangeResult":"179","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Trombosit (Direct Current)**","ReferenceDetails":null,"ReferenceRange":"140-440","ResultDetails":null,"Unit":"10^3/uL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"80","Procedure":"Laju Endap Darah (Westergren)","ReferenceDetails":null,"ReferenceRange":"0 - 20","ResultDetails":null,"Unit":"mm"}]}]},{"Test":"KIMIA","TestGroups":[{"Group":null,"Records":[{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"7.4","Procedure":"HbA1c (Immunoturbidi)**","ReferenceDetails":["- NILAI BATAS DIAGNOSIS","DIABETES MELITUS : >=6.5%","- TARGET PENGENDALIAN","DIABETES MELITUS : <7%"],"ReferenceRange":"","ResultDetails":null,"Unit":"%"}]}]},{"Test":null,"TestGroups":[{"Group":"Profile Lemak Lengkap","Records":[{"InRangeResult":"157","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Kolesterol Total (COD-PAP)**","ReferenceDetails":null,"ReferenceRange":"< 200","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"201","Procedure":"Trigliserida (GPO)**","ReferenceDetails":null,"ReferenceRange":"< 150","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"35","Procedure":"HDL-Kolesterol Direk **","ReferenceDetails":null,"ReferenceRange":">= 45","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"81","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"LDL-Kolesterol Direk**","ReferenceDetails":null,"ReferenceRange":"< 130","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"2.3","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"LDL/HDL Rasio","ReferenceDetails":["RESIKO RENDAH : 0.5 - 2.9","RESIKO SEDANG : 3.0 - 6.0","RESIKO TINGGI : > 6.0"],"ReferenceRange":"","ResultDetails":null,"Unit":""}]}]},{"Test":"KIMIA","TestGroups":[{"Group":"Ureum","Records":[{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"135","Procedure":"Ureum (Kinetik)**","ReferenceDetails":null,"ReferenceRange":"15 - 40","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"63","Procedure":"BUN (Kinetik)","ReferenceDetails":null,"ReferenceRange":"8 - 23","ResultDetails":null,"Unit":"mg/dL"}]},{"Group":"Kreatinin","Records":[{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"4.88","Procedure":"Kreatinin (Enzimatic)**","ReferenceDetails":null,"ReferenceRange":"0.5 - 0.9","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"8","Procedure":"e-GFR","ReferenceDetails":["SATUAN : ML/MIN/1.73M2"],"ReferenceRange":">=60","ResultDetails":null,"Unit":""},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"6.5","Procedure":"Asam Urat (Uricase)**","ReferenceDetails":null,"ReferenceRange":"2.6 - 6.0","ResultDetails":null,"Unit":"mg/dL"}]},{"Group":"Paket Elektrolit :","Records":[{"InRangeResult":"142","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Natrium (ISE)","ReferenceDetails":null,"ReferenceRange":"136 - 145","ResultDetails":null,"Unit":"mmol/L"},{"InRangeResult":"4.6","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Kalium (ISE)","ReferenceDetails":null,"ReferenceRange":"3.5 - 5.1","ResultDetails":null,"Unit":"mmol/L"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"109","Procedure":"Klorida (ISE)","ReferenceDetails":null,"ReferenceRange":"98 - 107","ResultDetails":["duplo"],"Unit":"mmol/L"}]}]},{"Test":"URINE","TestGroups":[{"Group":"MAKROSKOPIS","Records":[{"InRangeResult":"KUNING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Warna","ReferenceDetails":null,"ReferenceRange":"Kuning","ResultDetails":null,"Unit":""},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"AGAK KERUH","Procedure":"Kejernihan","ReferenceDetails":null,"ReferenceRange":"Jernih","ResultDetails":null,"Unit":""},{"InRangeResult":"5.0","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"pH**","ReferenceDetails":null,"ReferenceRange":"4.5 - 7.5","ResultDetails":null,"Unit":""},{"InRangeResult":"1.015","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Berat Jenis**","ReferenceDetails":null,"ReferenceRange":"1.005 - 1.030","ResultDetails":null,"Unit":""},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"POS(+)","Procedure":"Glukosa**","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":""},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"POS(++)","Procedure":"Albumin**","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":""},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Ketone**","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":""},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Bilirubin**","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":""},{"InRangeResult":"0.2","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Urobilinogen**","ReferenceDetails":null,"ReferenceRange":"0.1 - 1.0","ResultDetails":null,"Unit":"E Unit/dL"},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Lekosit Esterase**","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":""},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Darah**","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":""},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Nitrite**","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":""}]},{"Group":"MIKROSKOPIS","Records":[{"InRangeResult":"0 - 2","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Lekosit","ReferenceDetails":null,"ReferenceRange":"< 5","ResultDetails":null,"Unit":"/LPB"},{"InRangeResult":"0 - 1","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Eritrosit","ReferenceDetails":null,"ReferenceRange":"< 1","ResultDetails":null,"Unit":"/LPB"},{"InRangeResult":"POSITIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Epithel","ReferenceDetails":null,"ReferenceRange":"Positif","ResultDetails":null,"Unit":"/LPK"},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Kristal","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":"/LPK"},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Silinder","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":"/LPK"},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Bakteri","ReferenceDetails":null,"ReferenceRange":"Negatif","ResultDetails":null,"Unit":""}]}]}]}""",
            """{"__type":"Support.PatientDto","Acn":"200313124","Address":"LAB. KLINIK WIRA","Age":"51Y","ClientA1":"ABC LABORATORIUM","ClientA2":"GRAHA MAS - KEBON JERUK","ClientA3":"JAKARTA BARAT","ClientId":"DR0140","ClientName":"DR. LUCI LIANA, SPPK","ClientPhone":"","Csz":" ","Demog":"","Dob":"08/06/1968","DtmCol":"13/03/2020 15:05","DtmRcv":"13/03/2020 15:35","DtmRpt":"18/03/2020 11:30","MedTech":"","MrNumber":"","Name":"ESTERLINA P.NY","Pathologist":"","Phone":" ","Phy":"","PId":"","ReportMsg":"INPUT LAB COMMENT","Sex":"F","Status":"FINAL","TestRecords":[{"Test":"SITOLOGI","TestGroups":[{"Group":null,"Records":[{"InRangeResult":"View PDF to see details","IsSubRecord":false,"OutsideReferenceRange":null,"Procedure":"PAP Smear (Konvensional)","ReferenceDetails":null,"ReferenceRange":null,"ResultDetails":null,"Unit":null}]}]}]}""",
            """{"__type":"Support.PatientDto","Acn":"230810001","Address":"PURI MEDIA BLOK B9 N0.6A","Age":"60Y","ClientA1":"ABC LABORATORIUM","ClientA2":"GRAHA MAS - KEBON JERUK","ClientA3":"JAKARTA BARAT","ClientId":"DR0140","ClientName":"DR. LUCI LIANA, SPPK","ClientPhone":"","Csz":"RT 02/01 KEMBANGAN","Demog":"00X210910149","Dob":"09/08/1962","DtmCol":"10/08/2023 07:25","DtmRcv":"10/08/2023 07:25","DtmRpt":"10/08/2023 18:44","MedTech":"","MrNumber":"","Name":"A CAHYAWATI","Pathologist":"","Phone":"081312128989","Phy":"","PId":"","ReportMsg":"INPUT EMAIL SUAMI ACC OS","Sex":"F","Status":"FINAL","TestRecords":[{"Test":"HEMATOLOGI","TestGroups":[{"Group":null,"Records":[{"InRangeResult":"7.2","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Lekosit (Flow Cytometric)**","ReferenceDetails":null,"ReferenceRange":"3.6 - 11.0","ResultDetails":null,"Unit":"10^3/uL"},{"InRangeResult":"4.25","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Eritrosit (Direct Current)**","ReferenceDetails":null,"ReferenceRange":"3.8 - 5.2","ResultDetails":null,"Unit":"10^6/uL"},{"InRangeResult":"12.6","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Hemoglobin (SLS-hemoglobin)**","ReferenceDetails":null,"ReferenceRange":"11.7 - 15.5","ResultDetails":null,"Unit":"g/dL"},{"InRangeResult":"36.3","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Hematokrit(Pulse Height Dtc)**","ReferenceDetails":null,"ReferenceRange":"35.0 - 47.0","ResultDetails":null,"Unit":"%"}]},{"Group":"Nilai MCV, MCH, MCHC","Records":[{"InRangeResult":"85.4","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"MCV (Calculated)**","ReferenceDetails":null,"ReferenceRange":"80 - 100","ResultDetails":null,"Unit":"fL"},{"InRangeResult":"29.6","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"MCH (Calculated)**","ReferenceDetails":null,"ReferenceRange":"26 - 34","ResultDetails":null,"Unit":"pg"},{"InRangeResult":"34.7","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"MCHC (Calculated)**","ReferenceDetails":null,"ReferenceRange":"32 - 36","ResultDetails":null,"Unit":"g/dL"},{"InRangeResult":"12.8","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"RDW-CV (Calculated)","ReferenceDetails":null,"ReferenceRange":"11.5 - 14.5","ResultDetails":null,"Unit":"%"}]},{"Group":"Hitung Jenis Lekosit (Slide)","Records":[{"InRangeResult":"0","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Basophil","ReferenceDetails":null,"ReferenceRange":"0-1","ResultDetails":null,"Unit":"%"},{"InRangeResult":"4","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Eosinophil","ReferenceDetails":null,"ReferenceRange":"2-4","ResultDetails":null,"Unit":"%"},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"1","Procedure":"N.Batang","ReferenceDetails":null,"ReferenceRange":"3 - 5","ResultDetails":null,"Unit":"%"},{"InRangeResult":"51","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"N.Segment","ReferenceDetails":null,"ReferenceRange":"50 - 70","ResultDetails":null,"Unit":"%"},{"InRangeResult":"35","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Lymphocyte","ReferenceDetails":null,"ReferenceRange":"25 - 40","ResultDetails":null,"Unit":"%"},{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"9","Procedure":"Monocyte","ReferenceDetails":null,"ReferenceRange":"2-8","ResultDetails":null,"Unit":"%"},{"InRangeResult":".","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Lain - lain","ReferenceDetails":null,"ReferenceRange":"","ResultDetails":null,"Unit":""},{"InRangeResult":"337","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Trombosit (Direct Current)**","ReferenceDetails":null,"ReferenceRange":"150-440","ResultDetails":null,"Unit":"10^3/uL"},{"InRangeResult":"16","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Laju Endap Darah (Westergren)","ReferenceDetails":null,"ReferenceRange":"0 - 20","ResultDetails":null,"Unit":"mm"}]}]},{"Test":"KIMIA","TestGroups":[{"Group":"Glukosa Puasa (Heksokinase)","Records":[{"InRangeResult":"","IsSubRecord":true,"OutsideReferenceRange":"153","Procedure":"Glukosa Puasa **","ReferenceDetails":["KONSENSUS PERKENI 2021","NORMAL 70 - 99","PRE DIABETES 100-125","DIABETES >=126"],"ReferenceRange":"","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"NEGATIF","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Glukosa urine Puasa","ReferenceDetails":null,"ReferenceRange":"","ResultDetails":null,"Unit":""},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"7.6","Procedure":"HbA1c (Immunoturbidi)**","ReferenceDetails":["KONSENSUS PERKENI 2021","NORMAL < 5.7","PRE DIABETES 5.7-6.4","DIABETES >=6.5"],"ReferenceRange":"","ResultDetails":null,"Unit":"%"}]}]},{"Test":null,"TestGroups":[{"Group":"Profile Lemak Lengkap","Records":[{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"270","Procedure":"Kolesterol Total (COD-PAP)**","ReferenceDetails":["DEWASA, KONSENSUS LIPID :","<200      : YANG DIINGINKAN","200 - 239 : BATAS TINGGI",">=240     : TINGGI"],"ReferenceRange":"< 200","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"232","Procedure":"Trigliserida (GPO)**","ReferenceDetails":["DEWASA,KONSENSUS LIPID:","< 150     : NORMAL","150 - 199 : BATAS TINGGI","200 - 499 : TINGGI",">=500     : SANGAT TINGGI"],"ReferenceRange":"< 150","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"44","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"HDL-Kolesterol Direk **","ReferenceDetails":["DEWASA, KONSENSUS LIPID."],"ReferenceRange":">= 40","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"140","Procedure":"LDL-Kolesterol Direk**","ReferenceDetails":["DEWASA, KONSENSUS LIPID :","< 100   : OPTIMAL","100-129 : MENDEKATI OPTIMAL","130-159 : BATAS TINGGI","160-189 : TINGGI",">=190   : SANGAT TINGGI"],"ReferenceRange":"< 100","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"3.2","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"LDL/HDL Rasio","ReferenceDetails":["RESIKO RENDAH : 0.5 - 2.9","RESIKO SEDANG : 3.0 - 6.0","RESIKO TINGGI : > 6.0"],"ReferenceRange":"","ResultDetails":null,"Unit":""}]}]},{"Test":"KIMIA","TestGroups":[{"Group":"Kreatinin","Records":[{"InRangeResult":"0.80","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Kreatinin (Enzimatic)**","ReferenceDetails":null,"ReferenceRange":"0.5 - 0.9","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"84","Procedure":"e-GFR (CKD-EPI 2021)","ReferenceDetails":["SATUAN : ML/MIN/1.73 M2"],"ReferenceRange":">=90","ResultDetails":null,"Unit":""},{"InRangeResult":"5.0","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Asam Urat (Uricase)**","ReferenceDetails":null,"ReferenceRange":"2.6 - 6.0","ResultDetails":null,"Unit":"mg/dL"}]}]},{"Test":"IMUNO SEROLOGI","TestGroups":[{"Group":null,"Records":[{"InRangeResult":"1.10","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"hs-CRP (EIA)","ReferenceDetails":["BERDASARKAN AMERICAN HEART","ASSOCIATION :","RESIKO RENDAH : < 1","RESIKO SEDANG : 1 - 3","RESIKO TINGGI : > 3"],"ReferenceRange":"< 3","ResultDetails":null,"Unit":"mg/L"}]}]},{"Test":"KIMIA","TestGroups":[{"Group":null,"Records":[{"InRangeResult":"15","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"SGOT / AST (IFCC)**","ReferenceDetails":null,"ReferenceRange":"0 - 32","ResultDetails":null,"Unit":"U/L"},{"InRangeResult":"15","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"SGPT / ALT (IFCC)**","ReferenceDetails":null,"ReferenceRange":"0 - 33","ResultDetails":null,"Unit":"U/L"},{"InRangeResult":"","IsSubRecord":false,"OutsideReferenceRange":"26.2","Procedure":"Vitamin D, 25-OH Total","ReferenceDetails":["STATUS VITAMIN D:","- DEFISIENSI    : < 20","- INSUFISIENSI  : 21-29","- SUFISIENSI    : 30-100","- TOKSISITAS    : > 150","(ENDOCRINE SOCIETY,2018)"],"ReferenceRange":"","ResultDetails":null,"Unit":"ng/mL"}]}]}]}""",
            """{"__type":"Support.PatientDto","Acn":"201116025","Address":"DS.GETASKEREP  TALANG RT 008/004 ","Age":"45Y","ClientA1":"ABC LABORATORIUM","ClientA2":"GRAHA MAS - KEBON JERUK","ClientA3":"JAKARTA BARAT","ClientId":"DR0140","ClientName":"DR. LUCI LIANA, SPPK","ClientPhone":"","Csz":"TALANG .TEGAL JAWA TENGAH","Demog":"","Dob":"10/27/1975","DtmCol":"16/11/2020 11:09","DtmRcv":"16/11/2020 11:09","DtmRpt":"","MedTech":"","MrNumber":"","Name":"TOIP","Pathologist":"","Phone":"085813407265","Phy":"","PId":"","ReportMsg":"","Sex":"M","Status":"PARTIAL","TestRecords":[{"Test":"IMUNO SEROLOGI","TestGroups":[{"Group":"ANTI SARS-CoV-2 ( ECLIA)","Records":[{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"ANTI SARS-CoV-2 (I)","ReferenceDetails":null,"ReferenceRange":"NON REACTIVE","ResultDetails":null,"Unit":""},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Catatan :","ReferenceDetails":null,"ReferenceRange":"","ResultDetails":null,"Unit":""}]}]}]}""",
            """{"__type":"Support.PatientDto","Acn":"241029002","Address":"JL.BUANA BESAR BESAR BLOK K1 NO.3 A","Age":"30Y","ClientA1":"ABC LABORATORIUM","ClientA2":"GRAHA MAS - KEBON JERUK","ClientA3":"JAKARTA BARAT","ClientId":"DR0140","ClientName":"DR. LUCI LIANA, SPPK","ClientPhone":"","Csz":"RT.08/09 KEMBANGAN UTARA","Demog":"20X16014466","Dob":"04/16/1994","DtmCol":"29/10/2024 07:57","DtmRcv":"29/10/2024 08:03","DtmRpt":"","MedTech":"","MrNumber":"","Name":"ERIKA MAKNAWI","Pathologist":"","Phone":"0811102201","Phy":"","PId":"","ReportMsg":"HASILEMAIL,KIRIM OS","Sex":"F","Status":"PARTIAL","TestRecords":[{"Test":"HEMATOLOGI","TestGroups":[{"Group":null,"Records":[{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Lekosit (Flow Cytometric)**","ReferenceDetails":null,"ReferenceRange":"3.6 - 11.0","ResultDetails":null,"Unit":"10^3/uL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Eritrosit (Direct Current)**","ReferenceDetails":null,"ReferenceRange":"3.8 - 5.2","ResultDetails":null,"Unit":"10^6/uL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Hemoglobin (SLS-hemoglobin)**","ReferenceDetails":null,"ReferenceRange":"11.7 - 15.5","ResultDetails":null,"Unit":"g/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Hematokrit(Pulse Height Dtc)**","ReferenceDetails":null,"ReferenceRange":"35.0 - 47.0","ResultDetails":null,"Unit":"%"}]},{"Group":"Nilai MCV, MCH, MCHC","Records":[{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"MCV (Calculated)**","ReferenceDetails":null,"ReferenceRange":"80 - 100","ResultDetails":null,"Unit":"fL"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"MCH (Calculated)**","ReferenceDetails":null,"ReferenceRange":"26 - 34","ResultDetails":null,"Unit":"pg"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"MCHC (Calculated)**","ReferenceDetails":null,"ReferenceRange":"32 - 36","ResultDetails":null,"Unit":"g/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"RDW-CV (Calculated)","ReferenceDetails":null,"ReferenceRange":"11.5 - 14.5","ResultDetails":null,"Unit":"%"}]},{"Group":"Hitung Jenis Lekosit (Slide)","Records":[{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Basophil","ReferenceDetails":null,"ReferenceRange":"0-1","ResultDetails":null,"Unit":"%"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Eosinophil","ReferenceDetails":null,"ReferenceRange":"2-4","ResultDetails":null,"Unit":"%"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"N.Batang","ReferenceDetails":null,"ReferenceRange":"3 - 5","ResultDetails":null,"Unit":"%"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"N.Segment","ReferenceDetails":null,"ReferenceRange":"50 - 70","ResultDetails":null,"Unit":"%"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Lymphocyte","ReferenceDetails":null,"ReferenceRange":"25 - 40","ResultDetails":null,"Unit":"%"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Monocyte","ReferenceDetails":null,"ReferenceRange":"2-8","ResultDetails":null,"Unit":"%"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Lain - lain","ReferenceDetails":null,"ReferenceRange":"","ResultDetails":null,"Unit":""},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Trombosit (Direct Current)**","ReferenceDetails":null,"ReferenceRange":"150-440","ResultDetails":null,"Unit":"10^3/uL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Laju Endap Darah (Westergren)","ReferenceDetails":null,"ReferenceRange":"0 - 20","ResultDetails":null,"Unit":"mm"}]},{"Group":"Profile TIBC","Records":[{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Serum Iron (Ferene)","ReferenceDetails":null,"ReferenceRange":"23 - 134","ResultDetails":null,"Unit":"ug/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"UIBC","ReferenceDetails":null,"ReferenceRange":"120 - 470","ResultDetails":null,"Unit":"ug/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Total Iron Binding Capacity","ReferenceDetails":null,"ReferenceRange":"274 - 385","ResultDetails":null,"Unit":"ug/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Vitamin B12 (CMIA)","ReferenceDetails":null,"ReferenceRange":"187-883","ResultDetails":null,"Unit":"pg/mL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Asam Folat (ECLIA)","ReferenceDetails":null,"ReferenceRange":"4.6 - 34.8","ResultDetails":null,"Unit":"ng/mL"}]}]},{"Test":"KIMIA","TestGroups":[{"Group":"Glukosa Puasa (Heksokinase)","Records":[{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Glukosa Puasa **","ReferenceDetails":["KONSENSUS PERKENI 2021","NORMAL 70 - 99","PRE DIABETES 100-125","DIABETES >=126"],"ReferenceRange":"","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"PENDING","IsSubRecord":true,"OutsideReferenceRange":"","Procedure":"Glukosa urine Puasa","ReferenceDetails":null,"ReferenceRange":"","ResultDetails":null,"Unit":""}]}]},{"Test":null,"TestGroups":[{"Group":"Profile Lemak Lengkap","Records":[{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Kolesterol Total (COD-PAP)**","ReferenceDetails":["DEWASA, KONSENSUS LIPID :","<200      : YANG DIINGINKAN","200 - 239 : BATAS TINGGI",">=240     : TINGGI"],"ReferenceRange":"< 200","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Trigliserida (GPO)**","ReferenceDetails":["DEWASA,KONSENSUS LIPID:","< 150     : NORMAL","150 - 199 : BATAS TINGGI","200 - 499 : TINGGI",">=500     : SANGAT TINGGI"],"ReferenceRange":"< 150","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"HDL-Kolesterol Direk **","ReferenceDetails":["DEWASA, KONSENSUS LIPID."],"ReferenceRange":">= 40","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"LDL-Kolesterol Direk**","ReferenceDetails":["DEWASA, KONSENSUS LIPID :","< 100   : OPTIMAL","100-129 : MENDEKATI OPTIMAL","130-159 : BATAS TINGGI","160-189 : TINGGI",">=190   : SANGAT TINGGI"],"ReferenceRange":"< 100","ResultDetails":null,"Unit":"mg/dL"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"LDL/HDL Rasio","ReferenceDetails":["RESIKO RENDAH : 0.5 - 2.9","RESIKO SEDANG : 3.0 - 6.0","RESIKO TINGGI : > 6.0"],"ReferenceRange":"","ResultDetails":null,"Unit":""}]}]},{"Test":"KIMIA","TestGroups":[{"Group":null,"Records":[{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"SGOT / AST (IFCC)**","ReferenceDetails":null,"ReferenceRange":"0 - 32","ResultDetails":null,"Unit":"U/L"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"SGPT / ALT (IFCC)**","ReferenceDetails":null,"ReferenceRange":"0 - 33","ResultDetails":null,"Unit":"U/L"},{"InRangeResult":"PENDING","IsSubRecord":false,"OutsideReferenceRange":"","Procedure":"Vitamin D, 25-OH Total","ReferenceDetails":["STATUS VITAMIN D:","- DEFISIENSI    : <= 20","- INSUFISIENSI  : 21-29","- SUFISIENSI    : 30-100","- TOKSISITAS    : > 150","(ENDOCRINE SOCIETY,2018)"],"ReferenceRange":"","ResultDetails":null,"Unit":"ng/mL"}]}]}]}"""
        )

        jsons.forEach {
            val result = runCatching {
                json.decodeFromString<PatientInfo>(it)
            }
            assertThat(result).isSuccess()

            val info = result.getOrNull()!!
            println("Decoded: $info")
            val encodedInfo = json.encodeToString(info)

            val decodeResult = runCatching {
                json.decodeFromString<PatientInfo>(encodedInfo)
            }

            assertThat(decodeResult).isSuccess()
            assertThat(decodeResult.getOrNull()).isEqualTo(info)
            println("ReDecoded: ${decodeResult.getOrNull()}")
        }
    }
}